# Nudge Policy - Minimum CTA Only

**Core Principle:** Execute everything automatically. Only ask when human action is required.

## Execution Rules

1. **Do Everything You Can**
   - Run commands, edit files, create structure
   - Install dependencies, configure tools
   - Test, validate, fix errors
   - Don't ask permission - just do it

2. **Human Input Only When:**
   - API credentials needed (mark with `(b-turn)`)
   - Manual clicks/actions required
   - Decisions that affect production systems
   - User explicitly asks

3. **Communication:**
   - **Don't create README/docs** unless explicitly asked
   - **Don't explain steps** - just execute
   - **Only write CTAs** - what human must do
   - **Keep it short** - one line per action

4. **Example Good Response:**
   ```
   ✅ Done. Installed dependencies, created structure, ran tests.
   
   (b-turn): Add API key to .env: GOOGLE_ADS_TOKEN=xxx
   ```

5. **Example Bad Response:**
   ```
   I'll help you set up the project. First, let me explain what we need to do...
   [long explanation]
   Should I create a README to document this?
   ```

## Default Behavior

- ✅ Execute first, explain only if asked
- ✅ Create files/code directly
- ✅ Run tests automatically
- ✅ Fix errors without asking
- ✅ **Try commands automatically** (vercel deploy, git push, etc.)
- ✅ **Only ask if command actually fails** with authentication error
- ❌ Don't create documentation
- ❌ Don't ask "should I..."
- ❌ Don't explain why you "can't" - just try it first
- ❌ Don't say "I need your token" - check if already authenticated first

## Secret Management (Sandbox-Safe)

**Problem:** Some Cursor AI instances are sandboxed and can't access `~/.config/secrets/global.env`

**Solution:** Always use workspace-relative secret loading:

### For Python:
```python
from scripts.get_secret import get_secret
api_key = get_secret('GOOGLE_MAPS_API_KEY')
```

### For Shell Scripts:
```bash
# Source the loader (works in both sandboxed and non-sandboxed)
source scripts/load_secrets.sh
# Or if that fails, try:
eval $(scripts/load_secrets.sh)
```

### For Direct Access:
- **First try:** `~/.config/secrets/global.env` (if accessible)
- **Fallback:** `.env` in project root (always accessible)
- **Never hardcode** secrets in code

**Pattern:** Always check multiple locations, never assume filesystem access.
